<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Fri Sep 12 12:52:32 EDT 2014 -->
<title>CustomTHsHaServer (apache-cassandra API)</title>
<meta name="date" content="2014-09-12">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CustomTHsHaServer (apache-cassandra API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CustomTHsHaServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/thrift/CqlRow._Fields.html" title="enum in org.apache.cassandra.thrift"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.Factory.html" title="class in org.apache.cassandra.thrift"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/thrift/CustomTHsHaServer.html" target="_top">Frames</a></li>
<li><a href="CustomTHsHaServer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.thrift.server.TServer">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.cassandra.thrift</div>
<h2 title="Class CustomTHsHaServer" class="title">Class CustomTHsHaServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.thrift.server.TServer</li>
<li>
<ul class="inheritance">
<li>org.apache.thrift.server.TNonblockingServer</li>
<li>
<ul class="inheritance">
<li>org.apache.cassandra.thrift.CustomTHsHaServer</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">CustomTHsHaServer</span>
extends org.apache.thrift.server.TNonblockingServer</pre>
<div class="block">This is a interim solution till THRIFT-1167 gets committed...

 The idea here is to avoid sticking to one CPU for IO's. For better throughput
 it is spread across multiple threads. Number of selector thread can be the
 number of CPU available.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.Factory.html" title="class in org.apache.cassandra.thrift">CustomTHsHaServer.Factory</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.Invocation.html" title="class in org.apache.cassandra.thrift">CustomTHsHaServer.Invocation</a></strong></code>
<div class="block">Save the remote socket as a thead local for future use of client state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.SelectorThread.html" title="class in org.apache.cassandra.thrift">CustomTHsHaServer.SelectorThread</a></strong></code>
<div class="block">IO Threads will perform expensive IO operations...</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.apache.thrift.server.TNonblockingServer">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.thrift.server.TNonblockingServer</h3>
<code>org.apache.thrift.server.TNonblockingServer.AbstractNonblockingServerArgs&lt;T extends org.apache.thrift.server.TNonblockingServer.AbstractNonblockingServerArgs&lt;T&gt;&gt;, org.apache.thrift.server.TNonblockingServer.Args, org.apache.thrift.server.TNonblockingServer.FrameBuffer, org.apache.thrift.server.TNonblockingServer.SelectThread</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.apache.thrift.server.TServer">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.thrift.server.TServer</h3>
<code>org.apache.thrift.server.TServer.AbstractServerArgs&lt;T extends org.apache.thrift.server.TServer.AbstractServerArgs&lt;T&gt;&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.thrift.server.TServer">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.thrift.server.TServer</h3>
<code>inputProtocolFactory_, inputTransportFactory_, outputProtocolFactory_, outputTransportFactory_, processorFactory_, serverTransport_</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#CustomTHsHaServer(org.apache.thrift.server.TNonblockingServer.Args, java.util.concurrent.ExecutorService, int)">CustomTHsHaServer</a></strong>(org.apache.thrift.server.TNonblockingServer.Args&nbsp;args,
                 java.util.concurrent.ExecutorService&nbsp;invoker,
                 int&nbsp;threadCount)</code>
<div class="block">All the arguments to Non Blocking Server will apply here.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#joinSelector()">joinSelector</a></strong>()</code>
<div class="block">Block until the selector exits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#requestInvoke(org.apache.thrift.server.TNonblockingServer.FrameBuffer, org.apache.cassandra.thrift.CustomTHsHaServer.SelectorThread)">requestInvoke</a></strong>(org.apache.thrift.server.TNonblockingServer.FrameBuffer&nbsp;frameBuffer,
             <a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.SelectorThread.html" title="class in org.apache.cassandra.thrift">CustomTHsHaServer.SelectorThread</a>&nbsp;thread)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#requestSelectInterestChange(org.apache.thrift.server.TNonblockingServer.FrameBuffer)">requestSelectInterestChange</a></strong>(org.apache.thrift.server.TNonblockingServer.FrameBuffer&nbsp;fb)</code>
<div class="block">A FrameBuffer wants to change its selection preferences, but might not be
 in the select thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#serve()">serve</a></strong>()</code>
<div class="block">Begin accepting connections and processing invocations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#startThreads()">startThreads</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.html#stop()">stop</a></strong>()</code>
<div class="block">Stop serving and shut everything down.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.thrift.server.TNonblockingServer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.thrift.server.TNonblockingServer</h3>
<code>isStopped, requestInvoke, startListening, startSelectorThread, stopListening</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.thrift.server.TServer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.thrift.server.TServer</h3>
<code>isServing, setServing</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CustomTHsHaServer(org.apache.thrift.server.TNonblockingServer.Args, java.util.concurrent.ExecutorService, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CustomTHsHaServer</h4>
<pre>public&nbsp;CustomTHsHaServer(org.apache.thrift.server.TNonblockingServer.Args&nbsp;args,
                 java.util.concurrent.ExecutorService&nbsp;invoker,
                 int&nbsp;threadCount)</pre>
<div class="block">All the arguments to Non Blocking Server will apply here. In addition,
 executor pool will be responsible for creating the internal threads which
 will process the data. threads for selection usually are equal to the
 number of cpu's</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="serve()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serve</h4>
<pre>public&nbsp;void&nbsp;serve()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></strong></div>
<div class="block">Begin accepting connections and processing invocations.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>serve</code>&nbsp;in class&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></dd>
</dl>
</li>
</ul>
<a name="startThreads()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startThreads</h4>
<pre>protected&nbsp;boolean&nbsp;startThreads()</pre>
</li>
</ul>
<a name="joinSelector()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinSelector</h4>
<pre>protected&nbsp;void&nbsp;joinSelector()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></strong></div>
<div class="block">Block until the selector exits.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>joinSelector</code>&nbsp;in class&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></dd>
</dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stop serving and shut everything down.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>stop</code>&nbsp;in class&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></dd>
</dl>
</li>
</ul>
<a name="requestInvoke(org.apache.thrift.server.TNonblockingServer.FrameBuffer, org.apache.cassandra.thrift.CustomTHsHaServer.SelectorThread)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestInvoke</h4>
<pre>protected&nbsp;boolean&nbsp;requestInvoke(org.apache.thrift.server.TNonblockingServer.FrameBuffer&nbsp;frameBuffer,
                    <a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.SelectorThread.html" title="class in org.apache.cassandra.thrift">CustomTHsHaServer.SelectorThread</a>&nbsp;thread)</pre>
</li>
</ul>
<a name="requestSelectInterestChange(org.apache.thrift.server.TNonblockingServer.FrameBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>requestSelectInterestChange</h4>
<pre>protected&nbsp;void&nbsp;requestSelectInterestChange(org.apache.thrift.server.TNonblockingServer.FrameBuffer&nbsp;fb)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></strong></div>
<div class="block">A FrameBuffer wants to change its selection preferences, but might not be
 in the select thread.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>requestSelectInterestChange</code>&nbsp;in class&nbsp;<code>org.apache.thrift.server.TNonblockingServer</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CustomTHsHaServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/cassandra/thrift/CqlRow._Fields.html" title="enum in org.apache.cassandra.thrift"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/cassandra/thrift/CustomTHsHaServer.Factory.html" title="class in org.apache.cassandra.thrift"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/cassandra/thrift/CustomTHsHaServer.html" target="_top">Frames</a></li>
<li><a href="CustomTHsHaServer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.thrift.server.TServer">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2014 The Apache Software Foundation</small></p>
</body>
</html>
